### b.stage

> MAU 300만 규모의 글로벌 팬덤 SaaS 플랫폼 b.stage에서 프론트엔드 개발을 담당하고 있습니다. 브랜드마다 독립된 공간을 제공하는 멀티 테넌시 기반 구조에서, 커머스, 회원 관리, 콘텐츠, 멤버십 등의 기능을 개발 및 운영하고 있습니다.

`Next.js` `React` `Zustand` `SCSS` `Monorepo`

<div className="flex gap-1">

![bstage_01](/experience/bemyfriends/bstage_01.png)

![bstage_02](/experience/bemyfriends/bstage_02.png)

![bstage_03](/experience/bemyfriends/bstage_03.png)

![bstage_04](/experience/bemyfriends/bstage_04.png)

</div>

#### 통합 계정 시스템 구축

##### ❗️ 문제

- 멀티 테넌시 구조로 인해 사용자가 브랜드마다 별도로 회원가입해야 했고, 이는 **로그인/가입 반복으로 이어지는 불편한 사용자 경험을 유발**했습니다.

##### 💡 해결

- **OAuth Provider 역할을 하는 통합 계정 시스템을 구축**하고, 각 브랜드는 OAuth 방식으로 연동될 수 있도록 구현했습니다.
- **카카오, 네이버, 구글, 애플 등 다양한 SNS 로그인을 연동**하고, 앱에서는 SDK 기반 로그인을 지원하기 위해 브릿지를 구현했습니다.
- 보안성을 높이기 위해 OAuth 과정 중 노출될 수 있는 **민감 정보는 Next.js API Route를 통해 서버 측에서 안전하게 처리**했습니다.

##### 📈 결과 및 경험

- 통합 계정 도입으로 하나의 로그인으로 여러 브랜드를 이용할 수 있게 되어, **사용자 흐름이 매끄러워지고 반복 가입의 피로도가 해소**되었습니다.
- 통합 계정 런칭 2개월 만에 **전체 회원 13만 명을 달성**하고, 외부 브랜드 연계를 통해 **신규 회원 1.2만 명을 확보**했습니다.
- OAuth 인증 플로우에 대한 이해와 실무 적용 경험을 쌓았고, 내부 API 기반 설계를 통해 보안성과 운영 효율을 함께 확보하는 경험을 쌓았습니다.

#### 로그인 세션 안정화

##### ❗️ 문제

- 사용자로부터 **"로그인이 자꾸 풀린다"는 CS가 지속적으로 접수**되었습니다.
- **재현이 어렵고 원인이 다양하여**, 복잡한 코드베이스에서 문제 지점을 특정하기 어려운 상황이었습니다.

##### 💡 해결

**CSR/SSR 간 토큰 갱신 타이밍 이슈**

- 토큰 갱신 시작과 동시에 accessToken을 제거하는 로직이 있었고, 이때 페이지 이동으로 SSR이 발생하면 토큰을 찾지 못해 로그인이 풀리는 현상을 발견했습니다.
- 토큰 리프레시 실패 시에만 accessToken을 제거하도록 수정했습니다.

**Web-App 간 토큰 동기화 이슈**

- Web → Server → App 간 인증 플로우를 단계별로 추적하여 원인을 파악했고, 웹뷰 종료 후에도 만료된 토큰이 남아있어 재로그인 시 충돌하는 문제를 확인했습니다.
- 백엔드, 앱 개발자와 협업하여 각 해결 방법의 사이드이펙트를 검토 후 적용했습니다.

##### 📈 결과 및 경험

- 이슈 해결 후 관련 CS가 더 이상 접수되지 않았고, **사용자 이탈 방지 및 서비스 신뢰도 향상**에 기여했습니다.
- **복잡한 코드베이스에서 재현이 어려운 이슈의 원인을 추적하고 해결하는 역량**을 키웠습니다.
